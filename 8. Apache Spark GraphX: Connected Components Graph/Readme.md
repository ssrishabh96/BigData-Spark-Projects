
## Graph Processing using Apache Spark GraphX


### Description

The purpose of this project is to develop a graph processing program using Pregel on Spark GraphX. For example, the line

1,2,3,4,5,6,7

represents the vertex with ID 1, which is connected to the vertices with IDs 2, 3, 4, 5, 6, and 7. For example, the following graph: 

![alt text](p2.png "Sample Graph")


is represented in the input file as follows:

```java
3,2,1
2,4,3
1,3,4,6
5,6
6,5,7,1
0,8,9
4,2,1
8,0
9,0
7,6
```

Task is to write a Map-Reduce program that finds the connected components of any undirected graph and prints the size of these connected components. A connected component of a graph is a subgraph of the graph in which there is a path from any two vertices in the subgraph. For the above graph, there are two connected components: one 0,8,9 and another 1,2,3,4,5,6,7. Your program should print the sizes of these connected components: 3 and 7.

Your main program should take the text file that contains the graph (small-graph.txt or large-graph.txt) as an argument and print the results to the output. The stopping condition is when the number of repetition reaches 5. Note: Since your Graph class conflicts with the GraphX Graph class, you should rename the latter as Graph1. That is, the first line should be:

import org.apache.spark.graphx.{Graph => Graph1, VertexId}
and then use Graph1.fromEdges to build the graph.

### Compile & Running

Compile Graph.java using:

```java
run graph.build
```

and you can run Graph.java in standalone mode over a small dataset using:

```java
sbatch graph.local.run
```

The results generated by your program will be in the console output.

Run the program in distribited mode:

```java
sbatch graph.distr.run
```

This will process the graph on the large dataset large-graph.txt and will write the result in the directory output-distr. These results should be similar to the results in the file large-solution.txt.  Results generated by the program will be in the directory output-distr. 

##### Pseudo-Code

The following pseudo-code finds the connected components using Pregel:

1. Read the input graph and construct the RDD of edges
2. Use the graph builder Graph.fromEdges to construct a Graph from the RDD of edges
3. Access the VertexRDD and change the value of each vertex to be the vertex ID (initial group number)
4. Call the Graph.pregel method in the GraphX Pregel API to find the connected components. For each vertex, this method changes its group number to the minimum group number of its neighbors (if it is less than its current group number)
5. Group the graph vertices by their group number and print the group sizes
